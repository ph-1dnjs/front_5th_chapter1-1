import{H as m,P as g,L as f,N as L,U as o,B as d}from"./NotFountPage-DPWwRhjJ.js";const i=function(){const n={};function u(e,t){n[e]=t}function s(e){const t=n[e]||n["/404"],r=n[e]?e:"/404";history.pushState(null,"",`${d}${r}`),t()}function a(e){e=e.replace(d,""),!o.isLoggedIn()&&e==="/profile"&&(e="/login"),o.isLoggedIn()&&e==="/login"&&(e="/"),s(e)}function l(){window.addEventListener("hashchange",()=>{a(location.pathname)}),window.addEventListener("load",()=>{a(location.pathname)}),window.addEventListener("popstate",()=>{a(location.pathname)}),window.addEventListener("click",function(e){const t=e.target.getAttribute("href");t&&(e.preventDefault(),history.pushState(null,"",`#${t}`),e.target.id==="logout"&&o.removeUserFromLocalStorage(),a(t))}),window.addEventListener("submit",function(e){if(e.preventDefault(),e.target.id==="login-form"){const t=document.getElementById("username").value;o.createUser(t),history.pushState(null,"","#/profile"),n["/profile"]()}else if(e.target.id==="profile-form"){const t=document.getElementById("username").value,r=document.getElementById("email").value,c=document.getElementById("bio").value;o.updateUser({username:t,email:r,bio:c}),alert("프로필이 업데이트되었습니다.")}})}return{addRoute:u,init:l}}();i.addRoute("/",()=>{document.body.innerHTML=m()});i.addRoute("/profile",()=>{document.body.innerHTML=g()});i.addRoute("/login",()=>{document.body.innerHTML=f()});i.addRoute("/404",()=>{document.body.innerHTML=L()});i.init();
